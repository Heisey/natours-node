// ?????????????????????????????????????????????????????????
// ??????????????????? Tour Router ?????????????????????????
// ?????????????????????????????????????????????????????????

// ??????????????????? File Modules ????????????????????????
const authController = require('../controllers/authController')
const tourController = require('../controllers/tourController')

// ??????????????????? Node Modules ????????????????????????

// ??????????????????? Vendor Modules ??????????????????????
const express = require('express')



// ~~ Create Router for Tours
const router = express.Router();
module.exports = router;

// ^^ Top 5 Tours 
router
    .route('/top-5-tours')
    .get(tourController.getTopFive, tourController.getAllTours)

// ^^ Stats for Tours
router
    .route('/tour-stats')
    .get(tourController.getTourStats)

// ^^ Monthly Plan
router
    .route('/monthly-plan/:year')
    .get(tourController.getMonthlyPlan)

// ^^ Tours Root Route
router
    .route('/')
    .get(authController.protect, tourController.getAllTours) // ^^ Get All Tours
    .post(tourController.createTour); // ^^ Create Tour

// ^^ Tours ID Route
router
    .route('/:id')
    .get(tourController.getTour) // ^^ Get Tour By Id
    .patch(tourController.updateTour) // ^^ Update Tour By id
    .delete(authController.protect, authController.restrictTo('admin', 'lead-guide'), tourController.deleteTour); // ^^ Delete Tour By id