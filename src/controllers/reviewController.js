// ?????????????????????????????????????????????????????????
// ??????????????????? Tour Controller ?????????????????????
// ?????????????????????????????????????????????????????????

// ??????????????????? File Modules ????????????????????????
// ?? Model
const Review = require('../models/reviewModel');

// ?? Utilites
const factory = require('../utils/factoryHandler')

// ??????????????????? Node Modules ????????????????????????

// ??????????????????? Vendor Modules ??????????????????????

// ??????????????????? Middleware ??????????????????????????

// ??????????????????? route Handlers ??????????????????????

exports.setTourUserId = (req, res, next) => {

    // ~~ Check for tour id
    if (!req.body.tour) req.body.tour = req.params.id

    // ~~ Check for user id
    if (!req.body.user) req.body.user = req.user.id

    next()
}

// ~~ Create Review
exports.createReview = factory.createOne(Review)

// ~~ Get all reviews
exports.getAllReviews = factory.getAll(Review)

// ~~ Get Review by ID
exports.getReview = factory.getOne(Review, null)

// ~~ Update Review
exports.updateReview = factory.updateOne(Review)

// ~~ Delete Tour
exports.deleteReview = factory.deleteOne(Review)